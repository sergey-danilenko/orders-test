Задание
2.3.2. Проанализировать написанный в п. 2.3.1 запрос и структуру БД.
Предложить варианты оптимизации этого запроса и общей схемы данных для
повышения производительности системы в условиях роста данных (тысячи заказов в день).

Ответ:
Уже реализовано:
1. Добавлены индексы на поля фильтрации и джойнов (
    "orders.date_create" - ускоряет фильтрацию по дате,
    "order_items.product_id" и "products.category_id" - ускоряют join-ы
).

Чтобы сделал:
1. Денормализовал категорию.
    Например: можно сразу в "products" хранить значение "root_category_id".
              Тогда запрос берет категорию напрямую, без обхода дерева
2. Можно создать материализованное представление для статистики продаж.
    Обновлять его в N минут/часов.
    Тогда отчет будет браться мгновенно

3. Сделать партиции на таблицу "orders" по дате при очень больших объёмах.
    Например: по месяцам (08_2025, 09_2025)
